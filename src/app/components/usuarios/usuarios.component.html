<h1 class="pt-3">Usuarios del sistema</h1>
<hr>

<table class="table table-striped table-primary">
  <thead>
    <tr>
      <th scope="col">Nombre</th>
      <th scope="col">Apellido</th>
      <th scope="col">Email</th>
      <th scope="col">Rol</th>
      <th scope="col"></th>
      <th scope="col"></th>
    </tr>
  </thead>
  <tbody>
    <tr *ngFor="let usuario of usuarios | paginate: {itemsPerPage:5, currentPage: p }">
      <td>{{usuario.name}}</td>
      <td>{{usuario.surname}}</td>
      <td>{{usuario.email}}</td>
      <td>{{usuario.role}}</td>
      <td>               
        <a [routerLink]="['/editar-usuario', usuario.id]" class="btn btn-primary">Editar</a>
      </td>
      <td>
          <!-- Button to Open the Modal -->
         <button type="button" class="btn btn-danger" data-toggle="modal" [attr.data-target]="'#myModal'+usuario.id">
             Eliminar
         </button>

         <!-- The Modal -->
         <div class="modal" id="{{ 'myModal'+usuario.id }}">
           <div class="modal-dialog">
         <div class="modal-content">
       
         <!-- Modal Header -->
         <div class="modal-header">
           <h4 class="modal-title">¿Quieres borrar este usuario?</h4>
           <button type="button" class="close" data-dismiss="modal">&times;</button>
         </div>
       
         <!-- Modal body -->
         <div class="modal-body">
           <p>
             ¿Vas a borrar definitivamente a {{usuario.name}} {{usuario.surname}}?
           </p>
           
           <p class="alert-danger p-4">Si continuas la información no podra recuperarse</p>
         </div>
       
         <!-- Modal footer -->
         <div class="modal-footer">
           <a (click)="deleteUser(usuario.id)" class="btn btn-danger text-white" data-dismiss="modal">Eliminar</a>
           <button type="button" class="btn btn-primary" data-dismiss="modal">Cerrar</button>
         </div>
       </div>
     </div>
   </div>
       </td>
    </tr>
  </tbody>
</table>
<div class="text-center pt-4">
    <pagination-controls [previousLabel]="labels.previousLabel" [nextLabel]="labels.nextLabel"
    (pageChange)="p = $event"></pagination-controls>
</div>